function P=solarpower(T)    %a??????b??????Q?????? ,P????????,T???????
a=5;
b=18;
Q=7;
G=zeros(1,24);      %???????
P=zeros(1,24);      %?????????P
A=pi*Q/[2*(b-a)];   %A??????????
m=0;
for t=1:24;         %?????????
    if (t>=5)&&(t<=18)
       G(t)=A*sin(pi*(t-a)/(b-a));
    else
       G(t)=0;
    end
    m=G(t);         %m??t???????
    if m<0          %??taiyangmodel??????
        m=0;
    end
    P(t)=solarmodel(m); %???????????????P
end
P=P(T);
end
function Pt=solarmodel(G) 
Gn=1;    
Pmax=100; 
eta=0.793;   
if G==0
    Pt=0;
elseif (G>0)&&(G<Gn)
    Pt=eta*Pmax*G/Gn;
elseif G>=Gn
    Pt=eta*Pmax;
end
end
